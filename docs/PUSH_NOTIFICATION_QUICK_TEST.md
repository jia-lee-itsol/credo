# 푸시 알림 빠른 테스트 체크리스트

**예상 소요 시간**: 30분-1시간

---

## 🚀 빠른 시작

### 1. Cloud Functions 로그 준비 (터미널 2개 열기)

**터미널 1**: 공지글 알림 로그
```bash
firebase functions:log --only onPostCreated
```

**터미널 2**: 댓글 알림 로그
```bash
firebase functions:log --only onCommentCreated
```

---

## ✅ 테스트 1: 공지글 알림 (15분)

### 준비
- [ ] 계정 A (작성자): 로그인, 성당 확인
- [ ] 계정 B (수신자): 같은 성당 소속, FCM 토큰 확인
- [ ] 터미널 1에서 로그 확인 준비

### 실행
1. 계정 A로 공지글 작성
   - `type`: "official"
   - `category`: "notice"
   - `parishId`: 계정 A의 `main_parish_id`

### 확인
- [ ] 계정 B에서 알림 수신 ✅
- [ ] 계정 A에서 알림 미수신 ✅ (작성자 제외)
- [ ] 알림 탭 시 게시글 상세 화면 이동 ✅
- [ ] 로그에 "알림 전송 완료" 메시지 ✅

---

## ✅ 테스트 2: 댓글 알림 (15분)

### 준비
- [ ] 계정 A (게시글 작성자): 로그인
- [ ] 계정 B (댓글 작성자): 로그인
- [ ] 터미널 2에서 로그 확인 준비

### 실행
1. 계정 A로 일반 게시글 작성
2. 계정 B로 댓글 작성

### 확인
- [ ] 계정 A에서 알림 수신 ✅
- [ ] 계정 B에서 알림 미수신 ✅ (댓글 작성자 제외)
- [ ] 알림 탭 시 게시글 상세 화면 이동 ✅
- [ ] 로그에 "댓글 알림 전송 완료" 메시지 ✅

---

## ✅ 테스트 3: 예외 상황 (10분)

### 3-1. 작성자 자신에게 알림 없음
- [ ] 계정 A가 자신의 게시글에 댓글 → 알림 없음 ✅

### 3-2. 공지글이 아닌 게시글
- [ ] 일반 게시글 작성 → 알림 없음 ✅
- [ ] 로그에 "공지글이 아닙니다" 메시지 ✅

---

## 🔍 문제 발생 시

### 알림이 안 옴
1. FCM 토큰 확인 (Firestore Console)
2. 사용자 소속 성당 확인
3. Cloud Functions 로그 확인

### 알림은 오지만 앱 이동 안 됨
1. 알림 데이터 확인 (`postId`, `parishId` 포함 여부)
2. `push_notification_service.dart` 확인

---

## 📝 테스트 결과

- 공지글 알림: ✅ / ❌
- 댓글 알림: ✅ / ❌
- 예외 상황: ✅ / ❌

**발견된 문제**: 
- 

**해결 방법**:
- 
